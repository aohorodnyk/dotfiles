{{- /* Initialize variables to false */ -}}
{{- $isDebianLike := false -}}
{{- $isDarwin := false -}}
{{- $isWindows := false -}}
{{- $isLinux := false -}}
{{- $isArchLike := false -}}

{{- /* Detect OS and set flags */ -}}
{{- if eq .chezmoi.os "linux" -}}
    {{- $isLinux = true -}}

    {{- /* Linux: Check for Debian/Ubuntu derivatives */ -}}
    {{- $osId := index .chezmoi.osRelease "id" | default "" -}}
    {{- $idLike := index .chezmoi.osRelease "idLike" | default "" -}}
    {{- if or (eq $osId "debian") (eq $osId "ubuntu") (contains "debian" $idLike) (contains "ubuntu" $idLike) -}}
      {{- $isDebianLike = true -}}
    {{- end -}}
    {{ if or (eq $osId "arch") (contains "arch" $idLike) }}
      {{- $isArchLike = true -}}
    {{ end   }}
{{- else if eq .chezmoi.os "darwin" -}}
    {{- /* MacOS */ -}}
    {{- $isDarwin = true -}}
{{- else if eq .chezmoi.os "windows" -}}
    {{- /* Windows */ -}}
    {{- $isWindows = true -}}
{{- end -}}

[data]
is_linux = {{ $isLinux }}
is_debian_like = {{ $isDebianLike }}
is_arch_like = {{ $isArchLike }}
is_darwin = {{ $isDarwin }}
is_windows = {{ $isWindows }}
